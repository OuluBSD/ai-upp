{
  "commands": [
    {
      "name": "open_file",
      "category": "file",
      "description": "Open a file in the editor",
      "long_description": "Opens the specified file in the editor window",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": true,
          "description": "Path to the file to open"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Opens a file in the editor tab"
    },
    {
      "name": "save_file",
      "category": "file",
      "description": "Save the current file or specified file",
      "long_description": "Saves the current file or the specified file to disk",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": false,
          "default": "current",
          "description": "Path to the file to save (current if omitted)"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Saves the file to disk, optionally with a new path"
    },
    {
      "name": "find_in_files",
      "category": "search",
      "description": "Search for text pattern in files",
      "long_description": "Searches for a specified pattern in files within a directory",
      "inputs": [
        {
          "name": "pattern",
          "type": "string",
          "required": true,
          "description": "Text pattern to search for"
        },
        {
          "name": "directory",
          "type": "path",
          "required": false,
          "default": ".",
          "description": "Directory to search in (current directory if omitted)"
        },
        {
          "name": "regex",
          "type": "bool",
          "required": false,
          "default": false,
          "description": "Whether to use regex pattern matching"
        }
      ],
      "outputs": {
        "kind": "list",
        "fields": ["file", "line", "match"]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Searches for text in multiple files recursively"
    },
    {
      "name": "build_project",
      "category": "build",
      "description": "Build the current project",
      "long_description": "Builds the project with the specified configuration",
      "inputs": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "description": "Name of the project to build"
        },
        {
          "name": "config",
          "type": "enum",
          "enum_values": ["Debug", "Release"],
          "required": false,
          "default": "Debug",
          "description": "Build configuration to use"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "Calls PackageBuild() to build the project with specified configuration"
    },
    {
      "name": "clean_project",
      "category": "build",
      "description": "Clean the project build artifacts",
      "long_description": "Removes build artifacts from the project",
      "inputs": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "description": "Name of the project to clean"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "Cleans the output directory of the project"
    },
    {
      "name": "goto_line",
      "category": "navigation",
      "description": "Go to a specific line in the current file",
      "long_description": "Moves the cursor to the specified line in the file",
      "inputs": [
        {
          "name": "line",
          "type": "int",
          "required": true,
          "description": "Line number to go to"
        },
        {
          "name": "file",
          "type": "path",
          "required": false,
          "description": "File to go to line in (current file if omitted)"
        }
      ],
      "outputs": {
        "kind": "object",
        "fields": [
          {
            "name": "pos",
            "type": "int",
            "description": "Resolved character offset in the file"
          }
        ]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Navigates to a specific line in the in-memory editor buffer"
    },
    {
      "name": "search_code",
      "category": "search",
      "description": "Search code across the project",
      "long_description": "Searches for symbols, functions, or text across the entire project",
      "inputs": [
        {
          "name": "query",
          "type": "string",
          "required": true,
          "description": "Search query"
        }
      ],
      "outputs": {
        "kind": "list",
        "fields": ["file", "line", "match"]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "Searches symbols and references across the project"
    },
    {
      "name": "show_console",
      "category": "panel",
      "description": "Show the console panel",
      "long_description": "Displays the console panel showing build output and messages",
      "inputs": [],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Shows/hides the console output panel"
    },
    {
      "name": "show_errors",
      "category": "panel",
      "description": "Show the errors panel",
      "long_description": "Displays the errors panel showing compilation errors and warnings",
      "inputs": [],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Shows/hides the errors and warnings panel"
    },
    {
      "name": "set_main_package",
      "category": "project",
      "description": "Set the main package for the project",
      "long_description": "Sets the specified package as the main package for the project",
      "inputs": [
        {
          "name": "package",
          "type": "string",
          "required": true,
          "description": "Name of the package to set as main"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": true,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "Changes the main package setting in the project"
    },
    {
      "name": "insert_text",
      "category": "editor",
      "description": "Insert text at a specific position in a file",
      "long_description": "Inserts the specified text at the given position in the file",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": true,
          "description": "Path to the file to edit"
        },
        {
          "name": "pos",
          "type": "int",
          "required": true,
          "description": "Position (0-based) to insert text at"
        },
        {
          "name": "text",
          "type": "string",
          "required": true,
          "description": "Text to insert"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Operates on in-memory buffer (CoreEditor). File will be persisted to disk when saved with save_file command."
    },
    {
      "name": "erase_range",
      "category": "editor",
      "description": "Erase a range of text in a file",
      "long_description": "Removes text from the specified position for the given count of characters",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": true,
          "description": "Path to the file to edit"
        },
        {
          "name": "pos",
          "type": "int",
          "required": true,
          "description": "Starting position (0-based) to erase from"
        },
        {
          "name": "count",
          "type": "int",
          "required": true,
          "description": "Number of characters to erase"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Operates on in-memory buffer (CoreEditor). File will be persisted to disk when saved with save_file command."
    },
    {
      "name": "replace_all",
      "category": "editor",
      "description": "Replace all occurrences of a pattern in a file",
      "long_description": "Finds and replaces all occurrences of the pattern with the replacement text",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": true,
          "description": "Path to the file to edit"
        },
        {
          "name": "pattern",
          "type": "string",
          "required": true,
          "description": "Pattern to find and replace"
        },
        {
          "name": "replacement",
          "type": "string",
          "required": true,
          "description": "Text to replace the pattern with"
        },
        {
          "name": "case_sensitive",
          "type": "bool",
          "required": false,
          "default": true,
          "description": "Whether the pattern matching is case sensitive"
        }
      ],
      "outputs": {
        "kind": "object",
        "fields": [
          {
            "name": "replacements",
            "type": "int",
            "description": "Number of replacements made"
          }
        ]
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Operates on in-memory buffer (CoreEditor). File will be persisted to disk when saved with save_file command."
    },
    {
      "name": "undo",
      "category": "editor",
      "description": "Undo the last edit in a file",
      "long_description": "Reverts the last edit operation performed on the file",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": true,
          "description": "Path to the file to undo changes in"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Operates on in-memory buffer (CoreEditor). File will be persisted to disk when saved with save_file command."
    },
    {
      "name": "redo",
      "category": "editor",
      "description": "Redo the last undone edit in a file",
      "long_description": "Re-applies the last edit that was undone on the file",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": true,
          "description": "Path to the file to redo changes in"
        }
      ],
      "outputs": {
        "kind": "status-only"
      },
      "side_effects": {
        "modifies_files": true,
        "modifies_project": false,
        "requires_open_project": false,
        "requires_open_file": false
      },
      "context_notes": "Operates on in-memory buffer (CoreEditor). File will be persisted to disk when saved with save_file command."
    },
    {
      "name": "find_definition",
      "category": "navigation",
      "description": "Find the definition of a symbol",
      "long_description": "Locates the definition of the specified symbol in the workspace",
      "inputs": [
        {
          "name": "symbol",
          "type": "string",
          "required": true,
          "description": "Name of the symbol to find the definition for"
        }
      ],
      "outputs": {
        "kind": "object",
        "fields": [
          {
            "name": "file",
            "type": "path",
            "description": "File containing the definition"
          },
          {
            "name": "line",
            "type": "int",
            "description": "Line number of the definition"
          }
        ]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "Requires the workspace to be indexed first using the indexing functionality."
    },
    {
      "name": "find_usages",
      "category": "navigation",
      "description": "Find all usages of a symbol",
      "long_description": "Locates all usages of the specified symbol in the workspace",
      "inputs": [
        {
          "name": "symbol",
          "type": "string",
          "required": true,
          "description": "Name of the symbol to find usages for"
        }
      ],
      "outputs": {
        "kind": "list",
        "fields": [
          {
            "name": "location",
            "type": "string",
            "description": "File and line number in format 'file:line'"
          }
        ]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "Requires the workspace to be indexed first using the indexing functionality."
    },
    {
      "name": "get_build_order",
      "category": "graph",
      "description": "Get the build order of packages based on dependencies",
      "long_description": "Returns the topological order of packages based on their dependency relationships, which is the order in which packages should be built",
      "inputs": [],
      "outputs": {
        "kind": "list",
        "fields": ["package"]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "This command computes the dependency graph and provides the topological sort order for building packages"
    },
    {
      "name": "detect_cycles",
      "category": "graph",
      "description": "Detect cycles in the package dependency graph",
      "long_description": "Identifies cycles in package dependencies that would prevent successful building",
      "inputs": [],
      "outputs": {
        "kind": "list",
        "fields": ["cycle"]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "This command detects if there are circular dependencies in the package graph"
    },
    {
      "name": "affected_packages",
      "category": "graph",
      "description": "Get packages affected by changes to a file",
      "long_description": "Returns the list of packages that would be affected by changes to the specified file, based on package dependency graph",
      "inputs": [
        {
          "name": "path",
          "type": "path",
          "required": true,
          "description": "Path to the file to check for impact"
        }
      ],
      "outputs": {
        "kind": "list",
        "fields": ["package"]
      },
      "side_effects": {
        "modifies_files": false,
        "modifies_project": false,
        "requires_open_project": true,
        "requires_open_file": false
      },
      "context_notes": "This command performs impact analysis to determine which packages depend (directly or transitively) on the specified file"
    }
  ]
}