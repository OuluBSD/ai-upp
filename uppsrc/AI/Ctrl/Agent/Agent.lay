LAYOUT(ChatAI, 884, 512)
	ITEM(Upp::LabelBox, dv___0, SetLabel(t_("System")).LeftPosZ(4, 220).TopPosZ(4, 160))
	ITEM(Upp::Label, dv___1, SetLabel(t_("Preset:")).LeftPosZ(8, 52).TopPosZ(24, 20))
	ITEM(Upp::DropList, presets, LeftPosZ(60, 160).TopPosZ(24, 20))
	ITEM(Upp::Label, dv___3, SetLabel(t_("Model:")).LeftPosZ(8, 52).TopPosZ(48, 20))
	ITEM(Upp::DropList, model_name, LeftPosZ(60, 160).TopPosZ(48, 20))
	ITEM(Upp::Label, dv___5, SetLabel(t_("Sys. Inst:")).LeftPosZ(8, 52).TopPosZ(72, 20))
	ITEM(Upp::DocEdit, system_instructions, LeftPosZ(60, 160).TopPosZ(72, 88))
	ITEM(Upp::LabelBox, dv___7, SetLabel(t_("Functions")).SetAlign(Upp::ALIGN_CENTER).LeftPosZ(4, 220).TopPosZ(168, 124))
	ITEM(Upp::ArrayCtrl, functions, LeftPosZ(8, 212).TopPosZ(184, 104))
	ITEM(Upp::LabelBox, dv___9, SetLabel(t_("Model configuration")).LeftPosZ(4, 220).TopPosZ(296, 184))
	ITEM(Upp::Label, dv___10, SetLabel(t_("Response format:")).LeftPosZ(8, 88).TopPosZ(312, 20))
	ITEM(Upp::DropList, response_format, SetEditable(false).LeftPosZ(100, 120).TopPosZ(312, 20))
	ITEM(Upp::Label, dv___12, SetLabel(t_("Temperature:")).LeftPosZ(8, 88).TopPosZ(336, 20))
	ITEM(Upp::EditDoubleSpin, temperature, SetInc(0.05).Min(0).Max(2).Tip(t_("\001[g Controls randomness: Lowering results in less random completions. As the temperature approaches zero, the model will become deterministic and repetitive.Controls randomness: Lowering results in less random completions. As the temperature approaches zero, the model will become deterministic and repetitive.")).LeftPosZ(100, 120).TopPosZ(336, 20))
	ITEM(Upp::Label, dv___14, SetLabel(t_("Stop sequence:")).LeftPosZ(8, 72).TopPosZ(360, 19))
	ITEM(Upp::DocEdit, stop_seq, Tip(t_("\v\001[g Up to four sequences where the API will stop generating further tokens. The returned text will not contain the stop sequence.Up to four sequences where the API will stop generating further tokens. The returned text will not contain the stop sequence.")).LeftPosZ(84, 136).TopPosZ(360, 40))
	ITEM(Upp::Label, dv___16, SetLabel(t_("Top P:")).LeftPosZ(8, 88).TopPosZ(404, 20))
	ITEM(Upp::EditDoubleSpin, top_p, SetInc(0.05).Min(0).Max(1).Tip(t_("\001[g Controls diversity via nucleus sampling: 0.5 means half of all likelihood`-weighted options are considered.Controls diversity via nucleus sampling: 0.5 means half of all likelihood`-weighted options are considered.")).LeftPosZ(100, 120).TopPosZ(404, 20))
	ITEM(Upp::Label, dv___18, SetLabel(t_("Freq. penalty:")).LeftPosZ(8, 72).TopPosZ(428, 19))
	ITEM(Upp::EditDoubleSpin, frequency_penalty, SetInc(0.05).Min(0).Max(2).Tip(t_("\001[g How much to penalize new tokens based on their existing frequency in the text so far. Decreases the model`'s likelihood to repeat the same line verbatim.")).LeftPosZ(84, 136).TopPosZ(428, 19))
	ITEM(Upp::Label, dv___20, SetLabel(t_("Pres. penalty:")).LeftPosZ(8, 72).TopPosZ(452, 19))
	ITEM(Upp::EditDoubleSpin, presence_penalty, SetInc(0.05).Min(0).Max(2).Tip(t_("\001[g How much to penalize new tokens based on whether they appear in the text so far. Increases the model`'s likelihood to talk about new topics.")).LeftPosZ(84, 136).TopPosZ(452, 19))
	ITEM(Upp::Button, save, SetLabel(t_("Save Preset")).LeftPosZ(4, 108).TopPosZ(484, 24))
	ITEM(Upp::Button, delete_, SetLabel(t_("Delete Preset")).LeftPosZ(116, 108).TopPosZ(484, 24))
	ITEM(Upp::DropList, who, LeftPosZ(232, 60).BottomPosZ(8, 20))
	ITEM(Upp::Button, attach, SetLabel(t_("Attach")).LeftPosZ(296, 60).BottomPosZ(8, 20))
	ITEM(Upp::Button, add_image, SetLabel(t_("Add Image")).LeftPosZ(360, 60).BottomPosZ(8, 20))
	ITEM(Upp::Button, link_image_url, SetLabel(t_("Link image URL")).LeftPosZ(424, 84).BottomPosZ(8, 20))
	ITEM(Upp::Button, add_text, SetLabel(t_("Add text")).RightPosZ(304, 64).BottomPosZ(8, 20))
	ITEM(Upp::Button, submit, SetLabel(t_("\001[g [= [* SUBMIT][0  (Ctrl`+Enter)]]")).RightPosZ(204, 96).BottomPosZ(8, 20))
	ITEM(Upp::Label, thrd, SetLabel(t_("\001[g [* THREAD] [1 thread`_12345]")).LeftPosZ(228, 224).TopPosZ(4, 20))
	ITEM(Upp::Label, tokens, SetLabel(t_("\001[g [*1 13 ][1 tokens]")).SetAlign(Upp::ALIGN_RIGHT).RightPosZ(332, 140).TopPosZ(4, 20))
	ITEM(Upp::Button, clear, SetLabel(t_("Clear")).RightPosZ(276, 52).TopPosZ(4, 20))
	ITEM(Upp::Button, compare, SetLabel(t_("Compare")).HCenterPosZ(72, 206).TopPosZ(4, 20))
	ITEM(Ctrl, chat_ctrl, HSizePosZ(228, 200).VSizePosZ(28, 124))
	ITEM(Upp::LabelBox, dv___35, SetLabel(t_("New message")).HSizePosZ(228, 200).BottomPosZ(4, 116))
	ITEM(Upp::DocEdit, prompt, HSizePosZ(232, 204).BottomPosZ(32, 72))
	ITEM(Upp::ArrayCtrl, sessions, RightPosZ(0, 196).VSizePosZ(4, 244))
	ITEM(Upp::ArrayCtrl, log, RightPosZ(0, 196).BottomPosZ(0, 240))
END_LAYOUT

LAYOUT(Completion, 668, 308)
	ITEM(Upp::LabelBox, dv___0, SetLabel(t_("AI")).LeftPosZ(4, 244).TopPosZ(4, 300))
	ITEM(Upp::Label, dv___1, SetLabel(t_("Model:")).LeftPosZ(8, 40).TopPosZ(16, 19))
	ITEM(Upp::DropList, model_name, Tip(t_("\001[g The model which will generate the completion. Some models are suitable for natural language tasks, others specialize in code. Learn more.")).LeftPosZ(52, 192).TopPosZ(16, 19))
	ITEM(Upp::Label, dv___3, SetLabel(t_("Temperature:")).LeftPosZ(8, 72).VSizePosZ(40, 249))
	ITEM(Upp::EditDoubleSpin, temperature, SetInc(0.05).Min(0).Max(2).Tip(t_("\001[g Controls randomness: Lowering results in less random completions. As the temperature approaches zero, the model will become deterministic and repetitive.")).LeftPosZ(84, 160).TopPosZ(40, 19))
	ITEM(Upp::Label, dv___5, SetLabel(t_("Max. length:")).LeftPosZ(8, 72).TopPosZ(64, 19))
	ITEM(Upp::EditIntSpin, max_length, Min(1).Tip(t_("\001[g The maximum number of tokens to generate shared between the prompt and completion. The exact limit varies by model. (One token is roughly 4 characters for standard English text)")).LeftPosZ(84, 160).TopPosZ(64, 19))
	ITEM(Upp::Label, dv___7, SetLabel(t_("Stop seq.:")).LeftPosZ(8, 72).TopPosZ(88, 19))
	ITEM(Upp::DocEdit, stop_seq, Tip(t_("\v\001[g Up to four sequences where the API will stop generating further tokens. The returned text will not contain the stop sequence.Up to four sequences where the API will stop generating further tokens. The returned text will not contain the stop sequence.")).LeftPosZ(84, 160).TopPosZ(88, 40))
	ITEM(Upp::Label, dv___9, SetLabel(t_("Top P:")).LeftPosZ(8, 72).TopPosZ(132, 19))
	ITEM(Upp::EditDoubleSpin, top_p, SetInc(0.05).Min(0).Max(1).Tip(t_("\001[g Controls diversity via nucleus sampling: 0.5 means half of all likelihood`-weighted options are considered.")).LeftPosZ(84, 160).TopPosZ(132, 19))
	ITEM(Upp::Label, dv___11, SetLabel(t_("Freq. penalty:")).LeftPosZ(8, 72).TopPosZ(156, 19))
	ITEM(Upp::EditDoubleSpin, freq_penalty, SetInc(0.05).Min(0).Max(2).Tip(t_("\001[g How much to penalize new tokens based on their existing frequency in the text so far. Decreases the model`'s likelihood to repeat the same line verbatim.")).LeftPosZ(84, 160).TopPosZ(156, 19))
	ITEM(Upp::Label, dv___13, SetLabel(t_("Pres. penalty:")).LeftPosZ(8, 72).TopPosZ(180, 19))
	ITEM(Upp::EditDoubleSpin, presence_penalty, SetInc(0.05).Min(0).Max(2).Tip(t_("\001[g How much to penalize new tokens based on whether they appear in the text so far. Increases the model`'s likelihood to talk about new topics.")).LeftPosZ(84, 160).TopPosZ(180, 19))
	ITEM(Upp::Label, dv___15, SetLabel(t_("Best of:")).LeftPosZ(8, 72).TopPosZ(204, 19))
	ITEM(Upp::EditIntSpin, best_of, Min(1).Max(10).Tip(t_("\001[g Generates multiple completions server`-side, and displays only the best. Streaming only works when set to 1. Since it acts as a multiplier on the number of completions, this parameters can eat into your token quota very quickly â€“ use caution!")).LeftPosZ(84, 160).TopPosZ(204, 19))
	ITEM(Upp::Label, dv___17, SetLabel(t_("Inject start text:")).LeftPosZ(8, 88).TopPosZ(228, 19))
	ITEM(Upp::EditString, inject_start, Tip(t_("\001[g Text to append after the user`'s input to format the model for a response.")).LeftPosZ(100, 144).TopPosZ(228, 19))
	ITEM(Upp::Label, dv___19, SetLabel(t_("Inject restart text:")).LeftPosZ(8, 88).TopPosZ(252, 19))
	ITEM(Upp::EditString, inject_restart, Tip(t_("\001[g Text to append after the model`'s generation to continue the patterned structure.")).LeftPosZ(100, 144).TopPosZ(252, 19))
	ITEM(Upp::Label, dv___21, SetLabel(t_("Show probabilities:")).LeftPosZ(8, 88).TopPosZ(276, 19))
	ITEM(Upp::DropList, show_probs, Tip(t_("\001[g Toggle token highlighting which indicates how likely a token was to be generated. Helps to debug a given generation, or see alternative options for a token.")).LeftPosZ(100, 144).TopPosZ(276, 19))
	ITEM(CodeEditor, prompt, HSizePosZ(252, 184).VSizePosZ(4, 28))
	ITEM(Upp::Button, undo, SetLabel(t_("Undo")).LeftPosZ(252, 56).BottomPosZ(5, 19))
	ITEM(Upp::Button, regen, SetLabel(t_("Regen.")).LeftPosZ(312, 56).BottomPosZ(5, 19))
	ITEM(Upp::Button, submit, SetLabel(t_("\001[g [= [* Submit][0  (Ctrl`+Enter)]]")).RightPosZ(184, 112).BottomPosZ(4, 20))
	ITEM(Upp::ArrayCtrl, history, RightPosZ(0, 180).VSizePosZ(0, 0))
END_LAYOUT

LAYOUT(AgentPromptForm, 448, 80)
	ITEM(Upp::DocEdit, prompt, HSizePosZ(4, 4).VSizePosZ(4, 32))
	ITEM(Upp::Button, attach, LeftPosZ(4, 36).BottomPosZ(4, 24))
	ITEM(Upp::DropList, pkglist, LeftPosZ(44, 180).BottomPosZ(4, 24))
	ITEM(Upp::StaticText, dv___3, SetText(t_("Versions:")).SetAlign(Upp::ALIGN_RIGHT).LeftPosZ(228, 56).BottomPosZ(4, 24))
	ITEM(Upp::EditIntSpin, versions, Min(1).Max(4).LeftPosZ(288, 52).BottomPosZ(4, 24))
	ITEM(Upp::Button, ask, SetLabel(t_("Ask")).LeftPosZ(344, 44).BottomPosZ(4, 24))
	ITEM(Upp::Button, code, SetLabel(t_("Code")).LeftPosZ(392, 52).BottomPosZ(4, 24))
END_LAYOUT
