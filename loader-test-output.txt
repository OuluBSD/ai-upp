ScriptLoader::Initialize success!
ScriptLoader::Load: Loading "/common/active/sblo/Dev/ai-upp/share/eon/tests/03e_x11_video_sw3d.eon"
Dumping tokenizer:
	file: /common/active/sblo/Dev/ai-upp/share/eon/tests/03e_x11_video_sw3d.eon
	[0] (1:1) = id: machine
	[1] (1:9) = id: x11
	[2] (1:12) = punct: .
	[3] (1:13) = id: app
	[4] (1:16) = colon: :
	[5] (2:2) = indent: <indent>
	[6] (2:2) = end-statement: END-STMT
	[7] (3:2) = id: driver
	[8] (3:9) = id: context
	[9] (3:16) = colon: :
	[10] (4:3) = indent: <indent>
	[11] (4:3) = id: x11
	[12] (4:6) = punct: .
	[13] (4:7) = id: sw
	[14] (4:9) = punct: .
	[15] (4:10) = id: context
	[16] (5:2) = end-statement: END-STMT
	[17] (5:2) = dedent: <dedent>
	[18] (5:2) = end-statement: END-STMT
	[19] (6:2) = id: chain
	[20] (6:8) = id: program
	[21] (6:15) = colon: :
	[22] (7:3) = indent: <indent>
	[23] (7:3) = id: state
	[24] (7:9) = id: event
	[25] (7:14) = punct: .
	[26] (7:15) = id: register
	[27] (8:3) = end-statement: END-STMT
	[28] (9:3) = id: loop
	[29] (9:8) = id: video
	[30] (9:13) = colon: :
	[31] (10:4) = indent: <indent>
	[32] (10:4) = id: center
	[33] (10:10) = punct: .
	[34] (10:11) = id: customer
	[35] (10:19) = end-statement: END-STMT
	[36] (11:4) = id: x11
	[37] (11:7) = punct: .
	[38] (11:8) = id: sw
	[39] (11:10) = punct: .
	[40] (11:11) = id: fbo
	[41] (11:14) = punct: .
	[42] (11:15) = id: program
	[43] (11:22) = colon: :
	[44] (12:5) = indent: <indent>
	[45] (12:5) = id: drawmem
	[46] (12:13) = assign: =
	[47] (12:22) = string: "false"
	[48] (12:29) = end-statement: END-STMT
	[49] (13:5) = id: program
	[50] (13:13) = assign: =
	[51] (13:22) = string: "obj_view"
	[52] (13:32) = end-statement: END-STMT
	[53] (14:5) = id: shader
	[54] (14:11) = punct: .
	[55] (14:12) = id: default
	[56] (14:19) = punct: .
	[57] (14:20) = id: frag
	[58] (14:24) = punct: .
	[59] (14:25) = id: name
	[60] (14:30) = assign: =
	[61] (14:35) = string: "obj_view"
	[62] (14:45) = end-statement: END-STMT
	[63] (15:5) = id: shader
	[64] (15:11) = punct: .
	[65] (15:12) = id: default
	[66] (15:19) = punct: .
	[67] (15:20) = id: vtx
	[68] (15:23) = punct: .
	[69] (15:24) = id: name
	[70] (15:29) = assign: =
	[71] (15:34) = string: "obj_view"
	[72] (16:4) = end-statement: END-STMT
	[73] (16:4) = dedent: <dedent>
	[74] (16:4) = end-statement: END-STMT
	[75] (17:4) = id: x11
	[76] (17:7) = punct: .
	[77] (17:8) = id: sw
	[78] (17:10) = punct: .
	[79] (17:11) = id: video
	[80] (17:16) = punct: .
	[81] (17:17) = id: pipe
	[82] (17:21) = colon: :
	[83] (18:5) = indent: <indent>
	[84] (18:5) = id: close_machine
	[85] (18:19) = assign: =
	[86] (18:24) = id: true
	[87] (18:28) = end-statement: END-STMT
	[88] (19:5) = id: sizeable
	[89] (19:14) = assign: =
	[90] (19:23) = id: true
	[91] (19:27) = end-statement: END-STMT
	[92] (20:5) = id: env
	[93] (20:9) = assign: =
	[94] (20:22) = id: event
	[95] (20:27) = punct: .
	[96] (20:28) = id: register
	[97] (21:1) = end-statement: END-STMT
	[98] (21:1) = dedent: <dedent>
	[99] (21:1) = end-statement: END-STMT
	[100] (21:1) = dedent: <dedent>
	[101] (21:1) = end-statement: END-STMT
	[102] (21:1) = dedent: <dedent>
	[103] (21:1) = end-statement: END-STMT
	[104] (21:1) = dedent: <dedent>
	[105] (21:1) = end-statement: END-STMT
	[106] (21:1) = end-of-file: EOF
t.GetRoot().GetTreeString():
<no token>
	machine x11 . app
		
		driver context
			x11 . sw . context
		
		chain program
			state event . register
			loop video
				center . customer
				x11 . sw . fbo . program
					drawmem = "false"
					program = "obj_view"
					shader . default . frag . name = "obj_view"
					shader . default . vtx . name = "obj_view"
				
				x11 . sw . video . pipe
					close_machine = true
					sizeable = true
					env = event . register
				
			
		
	
	

TranslationUnit: root
	Builtin: void
	MetaBuiltin: expr
	MetaBuiltin: loopstmt
	FunctionBuiltin: LOG
	NamePart: x11
		MachineStmt: app
			CompoundStmt: 
				DriverStmt: context
					CompoundStmt: 
						NamePart: x11
							NamePart: sw
								AtomStmt: context
				ChainStmt: program
					CompoundStmt: 
						NamePart: event
							StateStmt: register
						LoopStmt: video
							CompoundStmt: 
								NamePart: center
									AtomStmt: customer
								NamePart: x11
									NamePart: sw
										NamePart: fbo
											AtomStmt: program
												CompoundStmt: 
													ExprStmt: 
														Unresolved: drawmem
															string: const(string: "false")
														assign: op(=)
													ExprStmt: 
														Unresolved: program
															string: const(string: "obj_view")
														assign: op(=)
													ExprStmt: 
														Unresolved: shader.default.frag.name
															string: const(string: "obj_view")
														assign: op(=)
													ExprStmt: 
														Unresolved: shader.default.vtx.name
															string: const(string: "obj_view")
														assign: op(=)
										NamePart: video
											AtomStmt: pipe
												CompoundStmt: 
													ExprStmt: 
														Unresolved: close_machine
															bool: const(bool: )
														assign: op(=)
													ExprStmt: 
														Unresolved: sizeable
															bool: const(bool: )
														assign: op(=)
													ExprStmt: 
														Unresolved: env
															Unresolved: event.register
														assign: op(=)

TranslationUnit: root
	Builtin: void
	MetaBuiltin: expr
	MetaBuiltin: loopstmt
	FunctionBuiltin: LOG
	NamePart: x11
		MachineStmt: app
			CompoundStmt: 
				DriverStmt: context
					CompoundStmt: 
						NamePart: x11
							NamePart: sw
								AtomStmt: context
				ChainStmt: program
					CompoundStmt: 
						NamePart: event
							StateStmt: register
						LoopStmt: video
							CompoundStmt: 
								NamePart: center
									AtomStmt: customer
								NamePart: x11
									NamePart: sw
										NamePart: fbo
											AtomStmt: program
												CompoundStmt: 
													ExprStmt: 
														assign: op(=)
														Unresolved: drawmem
															string: const(string: "false")
														string: const(string: "false")
													ExprStmt: 
														assign: op(=)
														Unresolved: program
															string: const(string: "obj_view")
														string: const(string: "obj_view")
													ExprStmt: 
														assign: op(=)
														Unresolved: shader.default.frag.name
															string: const(string: "obj_view")
														string: const(string: "obj_view")
													ExprStmt: 
														assign: op(=)
														Unresolved: shader.default.vtx.name
															string: const(string: "obj_view")
														string: const(string: "obj_view")
										NamePart: video
											AtomStmt: pipe
												CompoundStmt: 
													ExprStmt: 
														assign: op(=)
														Unresolved: close_machine
															bool: const(bool: )
														bool: const(bool: )
													ExprStmt: 
														assign: op(=)
														Unresolved: sizeable
															bool: const(bool: )
														bool: const(bool: )
													ExprStmt: 
														assign: op(=)
														Unresolved: env
															Unresolved: event.register
														Unresolved: event.register

LoadChain: entering for id= eager=true
LoadChain: parsed loops count=2
LoadChain: state stmt count=1
LoadChain: state def=x11.app.program.event.register
LoadChain: eager build kick, loop defs before BuildChain=2
BuildChain: chain=<anon> loops=2 states=1
BuildChain: add EnvState parent=x11.app.program.event name=register
BuildChain[<anon>]: loop=x11.app.program.video driver=0 atoms=3
	loop=x11.app.program.video driver=false atoms=3
  remapped loop path under driver -> x11.app.context.program.video
	 resolved loop path=eng:/loop/x11/app/context/program/video
ChainContext::AddLoop: space=loop.x11.app.context.program.video atoms=3 make_primary_links=true
  atom #0 action=center.customer type=N3Upp14CenterCustomerE-CUSTOMER-(sink((1, center-receipt)), src((1, center-order)) link=CUSTOMER-CUSTOMER
CustomerBase::Initialize
  atom #1 action=x11.sw.fbo.program type=N3Upp12X11SwFboProgE-PIPE-(sink((2, center-order, center-fbo optional)), src((1, center-fbo)) link=PIPE_OPTSIDE-PROCESS
  atom #2 action=x11.sw.video.pipe type=N3Upp18X11SwVideoAtomPipeE-PIPE-(sink((1, center-fbo)), src((1, center-receipt)) link=POLLER_PIPE-PROCESS
error: could not find X11 context
Upp::CenterCustomer(0xB5505C33) linked to Upp::X11SwFboProg(0xFF0F5321)
BuildChain[<anon>]: loop=x11.app.context driver=1 atoms=1
	loop=x11.app.context driver=true atoms=1
	 resolved loop path=eng:/loop/x11/app/context
ChainContext::AddLoop: space=loop.x11.app.context atoms=1 make_primary_links=false
  atom #0 action=x11.sw.context type=N3Upp16X11SwContextAtomE-DRIVER-(sink((1, center-receipt)), src((1, center-receipt)) link=DRIVER-DRIVER
DriverLink::Initialize
ScriptLoader::ImplementScript: load states
ScriptLoader::ImplementScript: eager mode: connect sides across built chains
ScriptLoader::ImplementScript: eager mode: validate side links
ScriptLoader::ImplementScript: eager mode: post initialize
ScriptLoader::ImplementScript: eager mode: start
Warning: Expected output file not found: /common/active/sblo/Dev/ai-upp/share/eon/tests/03ex11videosw3d_expected.txt
VFS Tree:
0:0: N3Upp11RawValueRepINS_8AstValueEEE(0x3267B310)
	0:0: : eng(0x596D49D0)
		EXT: Upp::Engine
		0:0: (0x59700910)
			EXT: LinkSystem
		0:0: (0x596E51D0)
			EXT: PacketTracker
		0:0: (0x5972DD90)
			EXT: ScriptLoader
			0:0: : cu(0x5972EC50)
				EXT: Compiler
				0:0: : TokenStructure(0x59750660)
					EXT: <no token>
					0:0: : root(0x59750820)
						EXT: <no token>
						0:0: (0x597479C0)
							EXT: machine x11 . app
							0:0: (0x5974F0A0)
								EXT: TokenNode
							0:0: (0x5974F190)
								EXT: driver context
								0:0: (0x5974F2B0)
									EXT: x11 . sw . context
							0:0: (0x5974F3D0)
								EXT: TokenNode
							0:0: (0x5974F4D0)
								EXT: chain program
								0:0: (0x5974F5D0)
									EXT: state event . register
								0:0: (0x59742540)
									EXT: loop video
									0:0: (0x59742660)
										EXT: center . customer
									0:0: (0x59742780)
										EXT: x11 . sw . fbo . program
										0:0: (0x597428A0)
											EXT: drawmem = "false"
										0:0: (0x597429C0)
											EXT: program = "obj_view"
										0:0: (0x59742AE0)
											EXT: shader . default . frag . name = "obj_view"
										0:0: (0x59742BE0)
											EXT: shader . default . vtx . name = "obj_view"
									0:0: (0x59742CE0)
										EXT: TokenNode
									0:0: (0x59742DE0)
										EXT: x11 . sw . video . pipe
										0:0: (0x59742EE0)
											EXT: close_machine = true
										0:0: (0x5973CCD0)
											EXT: sizeable = true
										0:0: (0x5973CD80)
											EXT: env = event . register
									0:0: (0x5973CE80)
										EXT: TokenNode
								0:0: (0x5973CFD0)
									EXT: TokenNode
							0:0: (0x5973D0D0)
								EXT: TokenNode
						0:0: (0x5973D220)
							EXT: TokenNode
						0:0: (0x5973D320)
							EXT: TokenNode
				0:0: : SemanticParser(0x59750750)
					EXT: TranslationUnit: root
					0:0: : root(0x5973D420)
						EXT: TranslationUnit: root
						0:0: : void(0x5973D4D0)
							EXT: Builtin: void
						0:0: : expr(0x5973D580)
							EXT: MetaBuiltin: expr
						0:0: : loopstmt(0x5973D8B0)
							EXT: MetaBuiltin: loopstmt
						0:0: : LOG(0x5974C2D0)
							EXT: FunctionBuiltin: LOG
						0:0: : x11(0x5974CDD0)
							EXT: NamePart: x11
							0:0: : app(0x5974D0E0)
								EXT: MachineStmt: app
								0:0: (0x5974D4C0)
									EXT: CompoundStmt: 
									0:0: : context(0x5974D7F0)
										EXT: DriverStmt: context
										0:0: (0x5974DB40)
											EXT: CompoundStmt: 
											0:0: : x11(0x5974DE90)
												EXT: NamePart: x11
												0:0: : sw(0x597512E0)
													EXT: NamePart: sw
													0:0: : context(0x59751630)
														EXT: AtomStmt: context
									0:0: : program(0x59751980)
										EXT: ChainStmt: program
										0:0: (0x59751C90)
											EXT: CompoundStmt: 
											0:0: : event(0x59751FC0)
												EXT: NamePart: event
												0:0: : register(0x59752310)
													EXT: StateStmt: register
											0:0: : video(0x59752660)
												EXT: LoopStmt: video
												0:0: (0x59752990)
													EXT: CompoundStmt: 
													0:0: : center(0x59752CE0)
														EXT: NamePart: center
														0:0: : customer(0x59753030)
															EXT: AtomStmt: customer
													0:0: : x11(0x59753380)
														EXT: NamePart: x11
														0:0: : sw(0x597536B0)
															EXT: NamePart: sw
															0:0: : fbo(0x597539E0)
																EXT: NamePart: fbo
																0:0: : program(0x59753D30)
																	EXT: AtomStmt: program
																	0:0: (0x59754080)
																		EXT: CompoundStmt: 
																		0:0: (0x59754440)
																			EXT: ExprStmt: 
																			0:0: (0x59760AB0)
																				EXT: Unresolved: drawmem
																				0:0: (0x59760E00)
																					EXT: string: const(string: "false")
																			0:0: (0x59761150)
																				EXT: assign: op(=)
																		0:0: (0x59761480)
																			EXT: ExprStmt: 
																			0:0: (0x59761790)
																				EXT: Unresolved: program
																				0:0: (0x59761AC0)
																					EXT: string: const(string: "obj_view")
																			0:0: (0x59761E10)
																				EXT: assign: op(=)
																		0:0: (0x59762140)
																			EXT: ExprStmt: 
																			0:0: (0x59762450)
																				EXT: Unresolved: shader.default.frag.name
																				0:0: (0x59762790)
																					EXT: string: const(string: "obj_view")
																			0:0: (0x59762AE0)
																				EXT: assign: op(=)
																		0:0: (0x59762E10)
																			EXT: ExprStmt: 
																			0:0: (0x59763120)
																				EXT: Unresolved: shader.default.vtx.name
																				0:0: (0x59763480)
																					EXT: string: const(string: "obj_view")
																			0:0: (0x597637D0)
																				EXT: assign: op(=)
															0:0: : video(0x59763B00)
																EXT: NamePart: video
																0:0: : pipe(0x59747F90)
																	EXT: AtomStmt: pipe
																	0:0: (0x597482A0)
																		EXT: CompoundStmt: 
																		0:0: (0x59748610)
																			EXT: ExprStmt: 
																			0:0: (0x59748960)
																				EXT: Unresolved: close_machine
																				0:0: (0x59748CB0)
																					EXT: bool: const(bool: )
																			0:0: (0x59749000)
																				EXT: assign: op(=)
																		0:0: (0x59749330)
																			EXT: ExprStmt: 
																			0:0: (0x59749640)
																				EXT: Unresolved: sizeable
																				0:0: (0x59749970)
																					EXT: bool: const(bool: )
																			0:0: (0x59749CC0)
																				EXT: assign: op(=)
																		0:0: (0x59749FF0)
																			EXT: ExprStmt: 
																			0:0: (0x5974A330)
																				EXT: Unresolved: env
																				0:0: (0x5974A640)
																					EXT: Unresolved: event.register
																			0:0: (0x5974A9C0)
																				EXT: assign: op(=)
				0:0: : AstRunner(0x5974AF50)
					EXT: TranslationUnit: root
					0:0: : root(0x5974B000)
						EXT: TranslationUnit: root
						0:0: : void(0x5974B820)
							EXT: Builtin: void
						0:0: : expr(0x5974BB30)
							EXT: MetaBuiltin: expr
						0:0: : loopstmt(0x5974BE40)
							EXT: MetaBuiltin: loopstmt
						0:0: : LOG(0x59754A40)
							EXT: FunctionBuiltin: LOG
						0:0: : x11(0x59754D50)
							EXT: NamePart: x11
							0:0: : app(0x59755060)
								EXT: MachineStmt: app
								0:0: (0x59755370)
									EXT: CompoundStmt: 
									0:0: : context(0x59755680)
										EXT: DriverStmt: context
										0:0: (0x597559B0)
											EXT: CompoundStmt: 
											0:0: : x11(0x59755D00)
												EXT: NamePart: x11
												0:0: : sw(0x59756050)
													EXT: NamePart: sw
													0:0: : context(0x597563A0)
														EXT: AtomStmt: context
									0:0: : program(0x597566F0)
										EXT: ChainStmt: program
										0:0: (0x59756A20)
											EXT: CompoundStmt: 
											0:0: : event(0x59756D50)
												EXT: NamePart: event
												0:0: : register(0x597570A0)
													EXT: StateStmt: register
											0:0: : video(0x597573F0)
												EXT: LoopStmt: video
												0:0: (0x59757720)
													EXT: CompoundStmt: 
													0:0: : center(0x59757A50)
														EXT: NamePart: center
														0:0: : customer(0x59757DA0)
															EXT: AtomStmt: customer
													0:0: : x11(0x597580F0)
														EXT: NamePart: x11
														0:0: : sw(0x59758420)
															EXT: NamePart: sw
															0:0: : fbo(0x59758750)
																EXT: NamePart: fbo
																0:0: : program(0x59758AA0)
																	EXT: AtomStmt: program
																	0:0: (0x59758DF0)
																		EXT: CompoundStmt: 
																		0:0: (0x596DFBA0)
																			EXT: ExprStmt: 
																			0:0: (0x596DFEF0)
																				EXT: assign: op(=)
																			0:0: (0x596E0240)
																				EXT: Unresolved: drawmem
																				0:0: (0x596E0570)
																					EXT: string: const(string: "false")
																			0:0: (0x596E08A0)
																				EXT: string: const(string: "false")
																		0:0: (0x596E0BB0)
																			EXT: ExprStmt: 
																			0:0: (0x596E0EC0)
																				EXT: assign: op(=)
																			0:0: (0x596E11F0)
																				EXT: Unresolved: program
																				0:0: (0x596E1520)
																					EXT: string: const(string: "obj_view")
																			0:0: (0x596E1850)
																				EXT: string: const(string: "obj_view")
																		0:0: (0x596E1B60)
																			EXT: ExprStmt: 
																			0:0: (0x596E1E70)
																				EXT: assign: op(=)
																			0:0: (0x596E2180)
																				EXT: Unresolved: shader.default.frag.name
																				0:0: (0x596E24B0)
																					EXT: string: const(string: "obj_view")
																			0:0: (0x596E27E0)
																				EXT: string: const(string: "obj_view")
																		0:0: (0x596E2AF0)
																			EXT: ExprStmt: 
																			0:0: (0x596E2E00)
																				EXT: assign: op(=)
																			0:0: (0x596E3130)
																				EXT: Unresolved: shader.default.vtx.name
																				0:0: (0x596E3460)
																					EXT: string: const(string: "obj_view")
																			0:0: (0x596E3790)
																				EXT: string: const(string: "obj_view")
															0:0: : video(0x596E3AA0)
																EXT: NamePart: video
																0:0: : pipe(0x596E3DB0)
																	EXT: AtomStmt: pipe
																	0:0: (0x596E40E0)
																		EXT: CompoundStmt: 
																		0:0: (0x596E4430)
																			EXT: ExprStmt: 
																			0:0: (0x596E4780)
																				EXT: assign: op(=)
																			0:0: (0x596E4AD0)
																				EXT: Unresolved: close_machine
																				0:0: (0x59730220)
																					EXT: bool: const(bool: )
																			0:0: (0x59730550)
																				EXT: bool: const(bool: )
																		0:0: (0x59730860)
																			EXT: ExprStmt: 
																			0:0: (0x59730B70)
																				EXT: assign: op(=)
																			0:0: (0x59730EA0)
																				EXT: Unresolved: sizeable
																				0:0: (0x597311D0)
																					EXT: bool: const(bool: )
																			0:0: (0x59731500)
																				EXT: bool: const(bool: )
																		0:0: (0x59731810)
																			EXT: ExprStmt: 
																			0:0: (0x59731B20)
																				EXT: assign: op(=)
																			0:0: (0x59731E30)
																				EXT: Unresolved: env
																				0:0: (0x59732160)
																					EXT: Unresolved: event.register
																			0:0: (0x59732490)
																				EXT: Unresolved: event.register
		0:0: : loop(0x59734450)
			0:0: : x11(0x597345B0)
				0:0: : app(0x59734790)
					0:0: : program(0x5973497timeout: the monitored command dumped core
